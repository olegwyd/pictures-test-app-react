{"version":3,"sources":["components/Form/index.jsx","components/Comments/index.jsx","components/Modal/index.jsx","store/actions/closeModal.js","store/actions/images.js","store/actions/activeImageData.js","components/App/index.jsx","store/reducers/images.js","store/reducers/index.js","store/store.js","index.js"],"names":["Form","action","type","className","placeholder","onClick","e","preventDefault","Comments","comments","useSelector","state","imagesReducer","activeImageData","map","comment","mil","date","Date","toLocaleDateString","text","Modal","dispatch","useDispatch","activeImage","payload","src","url","alt","getImages","images","getImageData","image","App","modalActive","imagesData","useEffect","fetch","then","response","json","id","initialState","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a09d58a4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Form.css';\r\n\r\nfunction Form() {\r\n  return (\r\n    <>\r\n      <form action=\"submit\">\r\n        <input type=\"text\" className=\"input\" placeholder=\"Ваше имя\" />\r\n        <input type=\"text\" className=\"input\" placeholder=\"Ваш комментарий\" />\r\n        <button onClick={(e) => e.preventDefault()}>\r\n          Оставить комментарий\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './Comments.css';\r\n\r\nfunction Comments() {\r\n  const comments = useSelector(\r\n    (state) => state.imagesReducer.activeImageData.comments\r\n  );\r\n\r\n  const getDate = (mil) => {\r\n    const d = new Date(mil);\r\n    return d.toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"comments\">\r\n        {comments.map((comment) => {\r\n          return (\r\n            <div>\r\n              <p className=\"comment-date\">{getDate(comment.date)}</p>\r\n              <p className=\"comment-text\">{comment.text}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { closeModal } from '../../store/actions/closeModal';\r\nimport Form from '../Form';\r\nimport Comments from '../Comments';\r\nimport './Modal.css';\r\n\r\nfunction Modal() {\r\n  const dispatch = useDispatch();\r\n\r\n  const activeImage = useSelector(\r\n    (state) => state.imagesReducer.activeImageData\r\n  );\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal__content\">\r\n        <div onClick={() => dispatch(closeModal())} className=\"close\">\r\n          X\r\n        </div>\r\n        <div className=\"image-form\">\r\n          <img\r\n            src={activeImage.url}\r\n            className=\"modal__image\"\r\n            alt={activeImage.url}\r\n          />\r\n          <Form />\r\n        </div>\r\n        <Comments />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","export const closeModal = () => ({\r\n  type: 'CLOSE_MODAL',\r\n  payload: false,\r\n});\r\n","export const fetchImages = () => (dispatch) => {\r\n  fetch('https://boiling-refuge-66454.herokuapp.com/images')\r\n    .then((response) => response.json())\r\n    .then((response) => dispatch(getImages(response)));\r\n};\r\n\r\nexport const getImages = (images) => ({\r\n  type: 'GET_IMAGES',\r\n  payload: images,\r\n});\r\n","export const fetchImageData = (id) => (dispatch) => {\r\n  fetch(`https://boiling-refuge-66454.herokuapp.com/images/${id}`)\r\n    .then((response) => response.json())\r\n    .then((response) => dispatch(getImageData(response)));\r\n};\r\n\r\nexport const getImageData = (image) => ({\r\n  type: 'GET_IMAGE_DATA',\r\n  payload: image,\r\n});\r\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Modal from '../Modal';\nimport { fetchImages } from '../../store/actions/images';\nimport { fetchImageData } from '../../store/actions/activeImageData';\nimport './App.css';\n\nfunction App() {\n  const modalActive = useSelector((state) => state.imagesReducer.modalActive);\n  const imagesData = useSelector((state) => state.imagesReducer.images);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchImages());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      <header>\n        <p className=\"app_header\">test app</p>\n      </header>\n      {!imagesData ? (\n        <div>LOADING</div>\n      ) : (\n        imagesData.map((image) => {\n          return (\n            <img\n              onClick={() => dispatch(fetchImageData(image.id))}\n              src={image.url}\n              key={image.url}\n              className=\"image\"\n              alt={`id: ${image.id}`}\n            />\n          );\n        })\n      )}\n      <div className=\"hr\"></div>\n      <p className=\"footer_years\">© 2018-2019</p>\n      <div>{modalActive ? <Modal /> : <div></div>}</div>\n    </div>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n  images: [],\r\n  activeImageData: [],\r\n  modalActive: false,\r\n};\r\n\r\nconst imagesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'GET_IMAGES':\r\n      return {\r\n        ...state,\r\n        images: action.payload,\r\n      };\r\n    case 'GET_IMAGE_DATA':\r\n      return {\r\n        ...state,\r\n        activeImageData: action.payload,\r\n        modalActive: true,\r\n      };\r\n    case 'CLOSE_MODAL':\r\n      return {\r\n        ...state,\r\n        modalActive: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default imagesReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport imagesReducer from './images';\r\n\r\nconst rootReducer = combineReducers({\r\n  imagesReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\n\nimport store from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}